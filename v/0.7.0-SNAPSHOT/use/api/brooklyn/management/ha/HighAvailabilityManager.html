<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.8.6) on Thu May 29 16:45:20 BST 2014 -->
<title>HighAvailabilityManager (Brooklyn)</title>
<meta name="date" content="2014-05-29">
<link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HighAvailabilityManager (Brooklyn)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Brooklyn</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?brooklyn/management/ha/HighAvailabilityManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="HighAvailabilityManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
brooklyn.management.ha</FONT>
<BR>

<span CLASS="ClassTitleFont">[Java] Interface HighAvailabilityManager</span></H2>
<hr>
<PRE>@Beta
public&nbsp;interface HighAvailabilityManager

</PRE>

<P>
 Monitors other management nodes (via the ManagementPlaneSyncRecordPersister) to detect
 if the current master has failed or stopped. If so, then deterministically chooses a new master.
 If that master is self, then promotes.
 Users are not expected to implement this class, or to call methods on it directly.
 
 Expected lifecycle of methods calls on this is:
 <ol>
   <li><a href='#setPersister(brooklyn.management.ha.ManagementPlaneSyncRecordPersister)'>setPersister(ManagementPlaneSyncRecordPersister)</a>
   <li>Exactly one of <a href='#disabled()'>disabled()</a> or <a href='#start(StartMode)'>start(StartMode)</a>
   <li>Exactly one of <a href='#stop()'>stop()</a> or <a href='#terminate()'>terminate()</a>
 </ol>
 <DL><DT><B>Since:</B></DT><DD>0.7.0</DD></DL>
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#disabled()">disabled</a></b>()</CODE>
            <BR>
            <P>Indicates that HA is disabled: this node will act as the only management node in this management plane,
 and will not persist HA meta-information (meaning other nodes cannot join).</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecord.html'>ManagementPlaneSyncRecord</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getManagementPlaneSyncState()">getManagementPlaneSyncState</a></b>()</CODE>
            <BR>
            <P>Returns a snapshot of the management-plane's current / most-recently-known status.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../brooklyn/management/ha/ManagementNodeState.html'>ManagementNodeState</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getNodeState()">getNodeState</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecordPersister.html'>ManagementPlaneSyncRecordPersister</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getPersister()">getPersister</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isRunning()">isRunning</a></b>()</CODE>
            <BR>
            <P>Whether HA mode is operational</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../brooklyn/management/ha/HighAvailabilityManager.html'>HighAvailabilityManager</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setPersister(brooklyn.management.ha.ManagementPlaneSyncRecordPersister)">setPersister</a></b>(<a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecordPersister.html'>ManagementPlaneSyncRecordPersister</a> persister)</CODE>
            <BR>
            <P>@param persister</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#start(brooklyn.management.ha.HighAvailabilityMode)">start</a></b>(<a href='../../../brooklyn/management/ha/HighAvailabilityMode.html'>HighAvailabilityMode</a> startMode)</CODE>
            <BR>
            <P>Starts the monitoring of other nodes (and thus potential promotion of this node from standby to master).</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#stop()">stop</a></b>()</CODE>
            <BR>
            <P>Stops this node, then publishes own status (via ManagementPlaneSyncRecordPersister of ManagementNodeState#TERMINATED#TERMINATED.</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="disabled()"><!-- --></A><H3>
        disabled</H3>
        <PRE>public&nbsp;void <B>disabled</B>()</PRE>
        <DL>
        <DD> Indicates that HA is disabled: this node will act as the only management node in this management plane,
 and will not persist HA meta-information (meaning other nodes cannot join). 
 <p>
 Subsequently can expect <a href='#getNodeState()'>getNodeState()</a> to be ManagementNodeState#MASTER#MASTER 
 and <a href='#getManagementPlaneSyncState()'>getManagementPlaneSyncState()</a> to show just this one node --
 as if it were running HA with just one node --
 but <a href='#isRunning()'>isRunning()</a> will return false.
 <p>
 Currently this method is intended to be called early in the lifecycle,
 instead of <a href='#start(brooklyn.management.ha.HighAvailabilityMode)'>start(HighAvailabilityMode)</a>. It may be an error if
 this is called after this HA Manager is started.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getManagementPlaneSyncState()"><!-- --></A><H3>
        getManagementPlaneSyncState</H3>
        <PRE>public&nbsp;<a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecord.html'>ManagementPlaneSyncRecord</a> <B>getManagementPlaneSyncState</B>()</PRE>
        <DL>
        <DD> Returns a snapshot of the management-plane's current / most-recently-known status.
 <p>
 This is mainly the nodes and their ManagementNodeSyncRecord instances, 
 as known (for this node) or last read (other nodes).  
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getNodeState()"><!-- --></A><H3>
        getNodeState</H3>
        <PRE>public&nbsp;<a href='../../../brooklyn/management/ha/ManagementNodeState.html'>ManagementNodeState</a> <B>getNodeState</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getPersister()"><!-- --></A><H3>
        getPersister</H3>
        <PRE>@VisibleForTesting
public&nbsp;<a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecordPersister.html'>ManagementPlaneSyncRecordPersister</a> <B>getPersister</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isRunning()"><!-- --></A><H3>
        isRunning</H3>
        <PRE>public&nbsp;boolean <B>isRunning</B>()</PRE>
        <DL>
        <DD> Whether HA mode is operational 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setPersister(brooklyn.management.ha.ManagementPlaneSyncRecordPersister)"><!-- --></A><H3>
        setPersister</H3>
        <PRE>public&nbsp;<a href='../../../brooklyn/management/ha/HighAvailabilityManager.html'>HighAvailabilityManager</a> <B>setPersister</B>(<a href='../../../brooklyn/management/ha/ManagementPlaneSyncRecordPersister.html'>ManagementPlaneSyncRecordPersister</a> persister)</PRE>
        <DL>
        <DD>
     <DL><DT><B>Parameters:</B></DT><DD>persister</DD></DL><DL><DT><B>Returns:</B></DT><DD>self</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="start(brooklyn.management.ha.HighAvailabilityMode)"><!-- --></A><H3>
        start</H3>
        <PRE>public&nbsp;void <B>start</B>(<a href='../../../brooklyn/management/ha/HighAvailabilityMode.html'>HighAvailabilityMode</a> startMode)</PRE>
        <DL>
        <DD> Starts the monitoring of other nodes (and thus potential promotion of this node from standby to master).
 <p>
 By the time this method returns, then if appropriate this node will already be ManagementNodeState#MASTER#MASTER. 
 Otherwise it will be ManagementNodeState#STANDBY#STANDBY.<DL><DT><B>throws:</B></DT><DD>IllegalStateException if current state of the management-plane doesn't match that desired by <TT>startMode</TT></DD></DL> 
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="stop()"><!-- --></A><H3>
        stop</H3>
        <PRE>public&nbsp;void <B>stop</B>()</PRE>
        <DL>
        <DD> Stops this node, then publishes own status (via ManagementPlaneSyncRecordPersister of ManagementNodeState#TERMINATED#TERMINATED.
     
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p><b>Brooklyn Multi-Cloud Application Management Platform</b> <br/> <a href="http://brooklyncentral.github.com/" target="_top">brooklyncentral.github.com</a>. Apache License. &copy; 2012.</p>
<hr>

</body>
</html>
