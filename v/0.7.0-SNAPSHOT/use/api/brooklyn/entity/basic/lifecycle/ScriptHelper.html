<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.8.6) on Thu May 29 16:45:26 BST 2014 -->
<title>ScriptHelper (Brooklyn)</title>
<meta name="date" content="2014-05-29">
<link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ScriptHelper (Brooklyn)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Brooklyn</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?brooklyn/entity/basic/lifecycle/ScriptHelper.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScriptHelper.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
brooklyn.entity.basic.lifecycle</FONT>
<BR>

<span CLASS="ClassTitleFont">[Java] Class ScriptHelper</span></H2>
<pre>java.lang.Object
  <img src='../../../../inherit.gif'>brooklyn.entity.basic.lifecycle.ScriptHelper
</pre><hr>
<PRE>public&nbsp;class ScriptHelper

</PRE>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#body">body</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#closeSshConnection">closeSshConnection</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;<a href='../../../../Predicate.html'>Predicate</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#executionCheck">executionCheck</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;java.util.Map</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#flags">flags</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#footer">footer</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#gatherOutput">gatherOutput</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#header">header</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#isInessential">isInessential</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#isTransient">isTransient</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;<a href='../../../../Logger.html'>Logger</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#log">log</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;java.lang.Runnable</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#mutexAcquire">mutexAcquire</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;java.lang.Runnable</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#mutexRelease">mutexRelease</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;<a href='../../../../Predicate.html'>Predicate</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#resultCodeCheck">resultCodeCheck</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/NaiveScriptRunner.html'>NaiveScriptRunner</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#runner">runner</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;java.io.ByteArrayOutputStream</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#stderr">stderr</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;java.io.ByteArrayOutputStream</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#stdout">stdout</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>java.lang.String</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#summary">summary</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;<a href='../../../../brooklyn/management/Task.html'>Task</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#task">task</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#ScriptHelper(brooklyn.entity.basic.lifecycle.NaiveScriptRunner, java.lang.String)">ScriptHelper</a></B>(<a href='../../../../brooklyn/entity/basic/lifecycle/NaiveScriptRunner.html'>NaiveScriptRunner</a> runner, java.lang.String summary)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#closeSshConnection()">closeSshConnection</a></b>()</CODE>
            <BR>
            <P>The connection should be closed and disconnected once the commands have executed.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#environmentVariablesReset()">environmentVariablesReset</a></b>()</CODE>
            <BR>
            <P>ensures the script runs with no environment variables; by default they will be inherited</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#environmentVariablesReset(java.util.Map)">environmentVariablesReset</a></b>(java.util.Map envVarsToSet)</CODE>
            <BR>
            <P>overrides the default environment variables to use the given set; by default they will be inherited.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execute()">execute</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#executeIf(groovy.lang.Closure)">executeIf</a></b>(groovy.lang.Closure c)</CODE>
            <BR>
            <P>Takes a closure which accepts this ScriptHelper and returns true or false
 as to whether the script needs to run (or can throw error if desired)</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#executeIf(Predicate)">executeIf</a></b>(<a href='../../../../Predicate.html'>Predicate</a> c)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#executeInternal()">executeInternal</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#failIfBodyEmpty()">failIfBodyEmpty</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#failOnNonZeroResultCode(boolean)">failOnNonZeroResultCode</a></b>(boolean val)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#failOnNonZeroResultCode()">failOnNonZeroResultCode</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#failOnNonZeroResultCodeWithoutUpdatingTask()">failOnNonZeroResultCodeWithoutUpdatingTask</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#gatherOutput()">gatherOutput</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#gatherOutput(boolean)">gatherOutput</a></b>(boolean gather)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.util.Map</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getFlags()">getFlags</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.util.List</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getLines()">getLines</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.String</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getResultStderr()">getResultStderr</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.String</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getResultStdout()">getResultStdout</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;java.lang.RuntimeException</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#logWithDetailsAndThrow(java.lang.String, java.lang.Throwable)">logWithDetailsAndThrow</a></b>(java.lang.String message, java.lang.Throwable optionalCause)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/management/Task.html'>Task</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#newTask()">newTask</a></b>()</CODE>
            <BR>
            <P>creates a task which will execute this script; note this can only be run once per instance of this class</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/management/Task.html'>Task</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#peekTask()">peekTask</a></b>()</CODE>
            <BR>
            <P>returns the task, if it has been constructed, or null; use <a href='#newTask()'>newTask()</a> to build 
 (if it is null and you need a task)</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/management/Task.html'>Task</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#queue()">queue</a></b>()</CODE>
            <BR>
            <P>queues the task for execution if we are in a TaskQueueingContext (e.g. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#requireResultCode(groovy.lang.Closure)">requireResultCode</a></b>(groovy.lang.Closure integerFilter)</CODE>
            <BR>
            <P>Convenience for error-checking the result.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#requireResultCode(Predicate)">requireResultCode</a></b>(<a href='../../../../Predicate.html'>Predicate</a> integerFilter)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setFlag(java.lang.String, java.lang.Object)">setFlag</a></b>(java.lang.String flag, java.lang.Object value)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setFlag(brooklyn.config.ConfigKey, java.lang.Object)">setFlag</a></b>(<a href='../../../../brooklyn/config/ConfigKey.html'>ConfigKey</a> flag, java.lang.Object value)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setInessential()">setInessential</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setTransient()">setTransient</a></b>()</CODE>
            <BR>
            <P>indicates explicitly that the task can be safely forgotten about after it runs; useful for things like
 check_running which run repeatedly</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#skipIfBodyEmpty()">skipIfBodyEmpty</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#uniqueSshConnection()">uniqueSshConnection</a></b>()</CODE>
            <BR>
            <P>Unique ID for the command execution; ensures new SSH connection from the pool.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#updateTaskAndFailOnNonZeroResultCode()">updateTaskAndFailOnNonZeroResultCode</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#useMutex(brooklyn.util.mutex.WithMutexes, java.lang.String, java.lang.String)">useMutex</a></b>(<a href='../../../../brooklyn/util/mutex/WithMutexes.html'>WithMutexes</a> mutexSupport, java.lang.String mutexId, java.lang.String description)</CODE>
            <BR>
            <P>indicates that the script should acquire the given mutexId on the given mutexSupport
 and maintain it for the duration of script execution;
 typically used to prevent parallel scripts from conflicting in access to a resource
 (e.g. a folder, or a config file used by a process)</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class java.lang.Object</b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="body"><!-- --></A><H3>body</H3>
        <PRE>public&nbsp;final&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a> <B>body</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="closeSshConnection"><!-- --></A><H3>closeSshConnection</H3>
        <PRE>protected&nbsp;boolean <B>closeSshConnection</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executionCheck"><!-- --></A><H3>executionCheck</H3>
        <PRE>protected&nbsp;<a href='../../../../Predicate.html'>Predicate</a> <B>executionCheck</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="flags"><!-- --></A><H3>flags</H3>
        <PRE>protected&nbsp;final&nbsp;java.util.Map <B>flags</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="footer"><!-- --></A><H3>footer</H3>
        <PRE>public&nbsp;final&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a> <B>footer</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="gatherOutput"><!-- --></A><H3>gatherOutput</H3>
        <PRE>protected&nbsp;boolean <B>gatherOutput</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="header"><!-- --></A><H3>header</H3>
        <PRE>public&nbsp;final&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptPart.html'>ScriptPart</a> <B>header</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isInessential"><!-- --></A><H3>isInessential</H3>
        <PRE>protected&nbsp;boolean <B>isInessential</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isTransient"><!-- --></A><H3>isTransient</H3>
        <PRE>protected&nbsp;boolean <B>isTransient</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="log"><!-- --></A><H3>log</H3>
        <PRE>public&nbsp;static&nbsp;final&nbsp;<a href='../../../../Logger.html'>Logger</a> <B>log</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="mutexAcquire"><!-- --></A><H3>mutexAcquire</H3>
        <PRE>protected&nbsp;java.lang.Runnable <B>mutexAcquire</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="mutexRelease"><!-- --></A><H3>mutexRelease</H3>
        <PRE>protected&nbsp;java.lang.Runnable <B>mutexRelease</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="resultCodeCheck"><!-- --></A><H3>resultCodeCheck</H3>
        <PRE>protected&nbsp;<a href='../../../../Predicate.html'>Predicate</a> <B>resultCodeCheck</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="runner"><!-- --></A><H3>runner</H3>
        <PRE>protected&nbsp;final&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/NaiveScriptRunner.html'>NaiveScriptRunner</a> <B>runner</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="stderr"><!-- --></A><H3>stderr</H3>
        <PRE>protected&nbsp;java.io.ByteArrayOutputStream <B>stderr</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="stdout"><!-- --></A><H3>stdout</H3>
        <PRE>protected&nbsp;java.io.ByteArrayOutputStream <B>stdout</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="summary"><!-- --></A><H3>summary</H3>
        <PRE>public&nbsp;final&nbsp;java.lang.String <B>summary</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task"><!-- --></A><H3>task</H3>
        <PRE>protected&nbsp;<a href='../../../../brooklyn/management/Task.html'>Task</a> <B>task</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="ScriptHelper(brooklyn.entity.basic.lifecycle.NaiveScriptRunner, java.lang.String)"><!-- --></A><H3>
        ScriptHelper</H3>
        <PRE>public&nbsp;<B>ScriptHelper</B>(<a href='../../../../brooklyn/entity/basic/lifecycle/NaiveScriptRunner.html'>NaiveScriptRunner</a> runner, java.lang.String summary)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="closeSshConnection()"><!-- --></A><H3>
        closeSshConnection</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>closeSshConnection</B>()</PRE>
        <DL>
        <DD> The connection should be closed and disconnected once the commands have executed. 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="environmentVariablesReset()"><!-- --></A><H3>
        environmentVariablesReset</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>environmentVariablesReset</B>()</PRE>
        <DL>
        <DD> ensures the script runs with no environment variables; by default they will be inherited 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="environmentVariablesReset(java.util.Map)"><!-- --></A><H3>
        environmentVariablesReset</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>environmentVariablesReset</B>(java.util.Map envVarsToSet)</PRE>
        <DL>
        <DD> overrides the default environment variables to use the given set; by default they will be inherited.
 TODO would be nice to have a way to add just a few, but there is no way currently to access the
 getShellEnvironment() from the driver which is what gets inherited (at execution time) 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execute()"><!-- --></A><H3>
        execute</H3>
        <PRE>public&nbsp;int <B>execute</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executeIf(groovy.lang.Closure)"><!-- --></A><H3>
        executeIf</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>executeIf</B>(groovy.lang.Closure c)</PRE>
        <DL>
        <DD> Takes a closure which accepts this ScriptHelper and returns true or false
 as to whether the script needs to run (or can throw error if desired)
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executeIf(Predicate)"><!-- --></A><H3>
        executeIf</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>executeIf</B>(<a href='../../../../Predicate.html'>Predicate</a> c)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executeInternal()"><!-- --></A><H3>
        executeInternal</H3>
        <PRE>public&nbsp;int <B>executeInternal</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="failIfBodyEmpty()"><!-- --></A><H3>
        failIfBodyEmpty</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>failIfBodyEmpty</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="failOnNonZeroResultCode(boolean)"><!-- --></A><H3>
        failOnNonZeroResultCode</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>failOnNonZeroResultCode</B>(boolean val)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="failOnNonZeroResultCode()"><!-- --></A><H3>
        failOnNonZeroResultCode</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>failOnNonZeroResultCode</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="failOnNonZeroResultCodeWithoutUpdatingTask()"><!-- --></A><H3>
        failOnNonZeroResultCodeWithoutUpdatingTask</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>failOnNonZeroResultCodeWithoutUpdatingTask</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="gatherOutput()"><!-- --></A><H3>
        gatherOutput</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>gatherOutput</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="gatherOutput(boolean)"><!-- --></A><H3>
        gatherOutput</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>gatherOutput</B>(boolean gather)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getFlags()"><!-- --></A><H3>
        getFlags</H3>
        <PRE>public&nbsp;java.util.Map <B>getFlags</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getLines()"><!-- --></A><H3>
        getLines</H3>
        <PRE>public&nbsp;java.util.List <B>getLines</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getResultStderr()"><!-- --></A><H3>
        getResultStderr</H3>
        <PRE>public&nbsp;java.lang.String <B>getResultStderr</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getResultStdout()"><!-- --></A><H3>
        getResultStdout</H3>
        <PRE>public&nbsp;java.lang.String <B>getResultStdout</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="logWithDetailsAndThrow(java.lang.String, java.lang.Throwable)"><!-- --></A><H3>
        logWithDetailsAndThrow</H3>
        <PRE>protected&nbsp;java.lang.RuntimeException <B>logWithDetailsAndThrow</B>(java.lang.String message, java.lang.Throwable optionalCause)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="newTask()"><!-- --></A><H3>
        newTask</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/management/Task.html'>Task</a> <B>newTask</B>()</PRE>
        <DL>
        <DD> creates a task which will execute this script; note this can only be run once per instance of this class 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="peekTask()"><!-- --></A><H3>
        peekTask</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/management/Task.html'>Task</a> <B>peekTask</B>()</PRE>
        <DL>
        <DD> returns the task, if it has been constructed, or null; use <a href='#newTask()'>newTask()</a> to build 
 (if it is null and you need a task) 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="queue()"><!-- --></A><H3>
        queue</H3>
        <PRE>@Beta
public&nbsp;<a href='../../../../brooklyn/management/Task.html'>Task</a> <B>queue</B>()</PRE>
        <DL>
        <DD> queues the task for execution if we are in a TaskQueueingContext (e.g. EffectorTaskFactory); 
 or if we aren't in a queueing context, it will submit the task (assuming there is an ExecutionContext
 _and_ block until completion, throwing on error 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="requireResultCode(groovy.lang.Closure)"><!-- --></A><H3>
        requireResultCode</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>requireResultCode</B>(groovy.lang.Closure integerFilter)</PRE>
        <DL>
        <DD> Convenience for error-checking the result.
 <p/>
 Takes closure which accepts bash exit code (integer),
 and returns false if it is invalid. Default is that this resultCodeCheck
 closure always returns true (and the exit code is made available to the
 caller if they care)
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="requireResultCode(Predicate)"><!-- --></A><H3>
        requireResultCode</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>requireResultCode</B>(<a href='../../../../Predicate.html'>Predicate</a> integerFilter)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setFlag(java.lang.String, java.lang.Object)"><!-- --></A><H3>
        setFlag</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>setFlag</B>(java.lang.String flag, java.lang.Object value)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setFlag(brooklyn.config.ConfigKey, java.lang.Object)"><!-- --></A><H3>
        setFlag</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>setFlag</B>(<a href='../../../../brooklyn/config/ConfigKey.html'>ConfigKey</a> flag, java.lang.Object value)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setInessential()"><!-- --></A><H3>
        setInessential</H3>
        <PRE>public&nbsp;void <B>setInessential</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setTransient()"><!-- --></A><H3>
        setTransient</H3>
        <PRE>public&nbsp;void <B>setTransient</B>()</PRE>
        <DL>
        <DD> indicates explicitly that the task can be safely forgotten about after it runs; useful for things like
 check_running which run repeatedly 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="skipIfBodyEmpty()"><!-- --></A><H3>
        skipIfBodyEmpty</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>skipIfBodyEmpty</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="uniqueSshConnection()"><!-- --></A><H3>
        uniqueSshConnection</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>uniqueSshConnection</B>()</PRE>
        <DL>
        <DD> Unique ID for the command execution; ensures new SSH connection from the pool. 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="updateTaskAndFailOnNonZeroResultCode()"><!-- --></A><H3>
        updateTaskAndFailOnNonZeroResultCode</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>updateTaskAndFailOnNonZeroResultCode</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="useMutex(brooklyn.util.mutex.WithMutexes, java.lang.String, java.lang.String)"><!-- --></A><H3>
        useMutex</H3>
        <PRE>public&nbsp;<a href='../../../../brooklyn/entity/basic/lifecycle/ScriptHelper.html'>ScriptHelper</a> <B>useMutex</B>(<a href='../../../../brooklyn/util/mutex/WithMutexes.html'>WithMutexes</a> mutexSupport, java.lang.String mutexId, java.lang.String description)</PRE>
        <DL>
        <DD> indicates that the script should acquire the given mutexId on the given mutexSupport
 and maintain it for the duration of script execution;
 typically used to prevent parallel scripts from conflicting in access to a resource
 (e.g. a folder, or a config file used by a process)
     
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p><b>Brooklyn Multi-Cloud Application Management Platform</b> <br/> <a href="http://brooklyncentral.github.com/" target="_top">brooklyncentral.github.com</a>. Apache License. &copy; 2012.</p>
<hr>

</body>
</html>
