<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.8.6) on Tue Feb 18 14:27:16 GMT 2014 -->
<title>ShellFeed (Brooklyn)</title>
<meta name="date" content="2014-02-18">
<link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ShellFeed (Brooklyn)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Brooklyn</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?brooklyn/event/feed/shell/ShellFeed.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ShellFeed.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;<A HREF="#nested_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
brooklyn.event.feed.shell</FONT>
<BR>

<span CLASS="ClassTitleFont">[Java] Class ShellFeed</span></H2>
<pre>java.lang.Object
  <img src='../../../../inherit.gif'><a href='../../../../brooklyn/event/feed/AbstractFeed.html'>brooklyn.event.feed.AbstractFeed</a>
      <img src='../../../../inherit.gif'>brooklyn.event.feed.shell.ShellFeed
</pre><hr>
<PRE>public&nbsp;class ShellFeed
extends <a href='../../../../brooklyn/event/feed/AbstractFeed.html'>AbstractFeed</a>

</PRE>

<P>
 Provides a feed of attribute values, by executing shell commands (on the local machine where 
 this instance of brooklyn is running). Useful e.g. for paas tools such as Cloud Foundry vmc 
 which operate against a remote target.
 
 Example usage (e.g. in an entity that extends SoftwareProcessImpl):
 <pre>
 <TT>private ShellFeed feed;
 
 //@Override
 protected void connectSensors() {
   super.connectSensors();
   
   feed = ShellFeed.builder()
       .entity(this)
       .machine(mySshMachineLachine)
       .poll(new ShellPollConfig<Long>(DISK_USAGE)
           .command("df -P | grep /dev")
           .failOnNonZeroResultCode(true)
           .onSuccess(new Function<SshPollValue, Long>() {
                public Long apply(SshPollValue input) {
                  String[] parts = input.getStdout().split("[ \\t]+");
                  return Long.parseLong(parts[2]);
                </TT>}))
       .build();
 }
 
 {<DL><DT><B>literal:</B></DT><DD>@}Override
 protected void disconnectSensors() {
   super.disconnectSensors();
   if (feed != null) feed.stop();
 }
 }
 </pre></DD></DL>
 <DL><DT><B>Authors:</B></DT><DD>aled</DD></DL><DL><DT><B>See Also:</B></DT><DD>SshFeed</DD><DD>FunctionFeed</DD></DL>
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Nested Class Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;class</CODE></FONT></TD>
        <TD>
            <CODE><a href='../../../../brooklyn/event/feed/shell/ShellFeed.Builder.html'>ShellFeed.Builder</a></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;<a href='../../../../Logger.html'>Logger</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#log">log</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Fields inherited from class <a href='../../../../brooklyn/event/feed/AbstractFeed.html'>AbstractFeed</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='../../../../brooklyn/event/feed/AbstractFeed.html#entity'>entity</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#poller'>poller</a></td></tr>
                </table>
                &nbsp;

<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#ShellFeed(brooklyn.event.feed.shell.ShellFeed.Builder)">ShellFeed</a></b>(<a href='../../../../brooklyn/event/feed/shell/ShellFeed.Builder.html'>ShellFeed.Builder</a> builder)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>static&nbsp;<a href='../../../../brooklyn/event/feed/shell/ShellFeed.Builder.html'>ShellFeed.Builder</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#builder()">builder</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;<a href='../../../../brooklyn/util/task/system/ProcessTaskFactory.html'>ProcessTaskFactory</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#newTaskFactory(java.lang.String, java.util.Map, java.io.File, java.lang.String, java.lang.String, long)">newTaskFactory</a></b>(java.lang.String command, java.util.Map env, java.io.File dir, java.lang.String input, java.lang.String summary, long timeout)</CODE>
            <BR>
            <P>Executes the given command (using `bash -l -c $command`, so as to have a good path set).</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#preStart()">preStart</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class <a href='../../../../brooklyn/event/feed/AbstractFeed.html'>AbstractFeed</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='../../../../brooklyn/event/feed/AbstractFeed.html#getEntity()'>getEntity</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#isActivated()'>isActivated</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#isActive()'>isActive</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#isConnected()'>isConnected</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#postStop()'>postStop</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#preStart()'>preStart</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#preStop()'>preStop</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#resume()'>resume</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#start()'>start</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#stop()'>stop</a>, <a href='../../../../brooklyn/event/feed/AbstractFeed.html#suspend()'>suspend</a></td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="log"><!-- --></A><H3>log</H3>
        <PRE>public&nbsp;static&nbsp;final&nbsp;<a href='../../../../Logger.html'>Logger</a> <B>log</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="ShellFeed(brooklyn.event.feed.shell.ShellFeed.Builder)"><!-- --></A><H3>
        ShellFeed</H3>
        <PRE>protected&nbsp;java.lang.Object <B>ShellFeed</B>(<a href='../../../../brooklyn/event/feed/shell/ShellFeed.Builder.html'>ShellFeed.Builder</a> builder)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="builder()"><!-- --></A><H3>
        builder</H3>
        <PRE>public&nbsp;static&nbsp;<a href='../../../../brooklyn/event/feed/shell/ShellFeed.Builder.html'>ShellFeed.Builder</a> <B>builder</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="newTaskFactory(java.lang.String, java.util.Map, java.io.File, java.lang.String, java.lang.String, long)"><!-- --></A><H3>
        newTaskFactory</H3>
        <PRE>protected&nbsp;<a href='../../../../brooklyn/util/task/system/ProcessTaskFactory.html'>ProcessTaskFactory</a> <B>newTaskFactory</B>(java.lang.String command, java.util.Map env, java.io.File dir, java.lang.String input, java.lang.String summary, long timeout)</PRE>
        <DL>
        <DD> Executes the given command (using `bash -l -c $command`, so as to have a good path set).
     <DL><DT><B>Parameters:</B></DT><DD><code>command</code> -  The command to execute</DD><DD><code>env</code> -      Environment variable settings, in format name=value</DD><DD><code>dir</code> -      Working directory, or null to inherit from current process</DD><DD><code>input</code> -    Input to send to the command (if not null)</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="preStart()"><!-- --></A><H3>
        preStart</H3>
        <PRE>@Override
protected&nbsp;void <B>preStart</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p><b>Brooklyn Multi-Cloud Application Management Platform</b> <br/> <a href="http://brooklyncentral.github.com/" target="_top">brooklyncentral.github.com</a>. Apache License. &copy; 2012.</p>
<hr>

</body>
</html>
